{% extends 'tool/adminbase.html' %}
{% load static %}
{% block content %}
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Organization</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto%7CVarela+Round">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="{% static '/css/person.css' %}">
  <div class="container">
    <div class="row">
      <div class="text-right">
        <a href="{% url 'home' %}" class="btn btn-primary" role="button">Back to Home Page</a>
        <a href="{% url 'systemnav' %}" class="btn btn-primary" role="button">Back</a>
        <a href="{% url 'logout' %}" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE147;</i>
          <span>Hello, {{request.user}} Logout</span></a>
        {{my_filter.form}}
      </div>
    </div>
  </div>
</head>
<body>
  <div class="container" style="margin-top:30px;">
    <div class="row" style="margin-top: 5px;">
      <div class="col-xl-12">
        <form action="" method="get" class="form-inline">
          <input type="text" class="form-control" name="searchname" placeholder="Search">
          <input type="submit" class="btn btn-success" value="Search">
        </form>
      </div>
    </div>
  </div>
  <div class="text-right"> -->
<div style="position: relative; top: 65px; margin-left: 85px; padding-top: 0px; margin-top: 0px;">
    <div>
        <form action="" method="get" class="form-inline"
            style="display: inline-block; margin-top: 10px; margin-left: 10px;">
            <input type="text" class="form-control" name="searchstatus" placeholder="Search by Status">
            <input type="submit" class="btn btn-primary " value="Search by Status"><br> <b><a
                    style="text-decoration: none;" class="nav-item nav-link" href="{% url 'home' %}"> Dashboard
                    <span>&nbsp >
                    </span></a></b>
            <b><a style="text-decoration: none;" class="nav-item nav-link" href="#">Settings <span>&nbsp >
                    </span></a></b>
            <b><a style="text-decoration: none;" class="nav-item nav-link" href="#">Config
                    <span>&nbsp > </span></a></b>
            <b><a style="text-decoration: none;" class="nav-item nav-link" href="{% url 'systemsynchro' %}">Synchro Data
                    Source <span>&nbsp > </span></a></b>
        </form>
        <div class="pull-right" style="display: inline-block; margin-right: 10px; margin-top: 10px;">
            {% if permission.setting_a == "on" or permission == None %}
            <a href="#addcl_Synchro_data_sourceModal" class="btn btn-success" data-toggle="modal"><span>Add New
                    Synchronization</span></a>
            {% endif %}
            {% if permission.setting_d == "on" or permission == None %}
            <button type="submit" id="delete_btn" class="btn btn-danger">Delete</button>
            {% endif %}
        </div>
        <table class="table table-striped table-hover" id="table" style="margin-top: 10px;">
            <thead>
                <tr style="background-color:rgb(177, 208, 244);color:rgb(18, 16, 16);">
                    <th>
                        <!-- <span class="custom-checkbox">
                            <input type="checkbox" id="selectAll">
                            <label for="selectAll"></label>
                        </span> -->
                    </th>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Status</th>
                    <th>Description</th>
                    <th>Target Class</th>
                    <th>User</th>
                    <th>Contact Notify</th>
                    <th>Icon Hyperlink</th>
                    <th>Application Hyperlink</th>
                    <th>Data Table</th>
                    <th>Reconciliation Policy</th>
                    <th>Action On Zero</th>
                    <th>Action On One</th>
                    <th>Action On Many</th>
                    <th>User Allowed</th>
                    <th>Update Rules</th>
                    <th>Delete Policy</th>
                    <th>Full Load Interval</th>
                    <th>Retention Duration</th>
                    {% if permission.setting_e == "on" or permission == None %}
                    <th>Edit</th>
                    {% endif %}
                </tr>
            </thead>
            <style>
                .required-field::before {
                    content: "*";
                    color: red;
                }
            </style>
            <tbody>
                {% for i in users %}
                {% if forloop.counter < 11 %} <tr id="{{i.id}}">
                    <td>
                        <input type="checkbox" name="change_id[]" id="delete_product" value="{{i.id}}">
                    </td>
                    <td>{{i.id}}</td>
                    <td>{{i.ch_name}}</td>
                    <td>{{i.ch_status}}</td>
                    <td>{{i.txt_description}}</td>
                    <td>{{i.ch_target_class}}</td>
                    <td>{{i.ch_user}}</td>
                    <td>{{i.ch_contact_notify}}</td>
                    <td>{{i.url_icon_hyperlink}}</td>
                    <td>{{i.url_Application_hyperlink}}</td>
                    <td>{{i.ch_data_table}}</td>
                    <td>{{i.ch_reconciliation_policy}}</td>
                    <td>{{i.ch_action_on_zero}}</td>
                    <td>{{i.ch_action_on_one}}</td>
                    <td>{{i.ch_action_on_many}}</td>
                    <td>{{i.ch_users_allowed}}</td>
                    <td>{{i.ch_update_rules}}</td>
                    <td>{{i.ch_delete_policy}}</td>
                    <td>{{i.dt_full_load_interval}}</td>
                    <td>{{i.dt_retention_duration}}</td>
                    {% if permission.setting_e == "on" or permission == None %}
                    <td>
                        <a href="#editcl_Synchro_data_sourceModal-{{forloop.counter}}" class="edit"
                            data-toggle="modal"><i class="material-icons" data-toggle="tooltip"
                                title="Edit">&#xE254;</i></a>
                    </td>
                    {% endif %}
                    </tr>
                    {% endif %}
                    {% endfor %}
            </tbody>
        </table>
        {% if users.has_other_pages %}
        <ul class="pagination">
            {% if users.has_previous %}
            <li><a href="{% url 'systemsynchro' %}?page={{ users.previous_page_number }}">&laquo;</a></li>
            {% else %}
            <li class="disabled"><span>&laquo;</span></li>
            {% endif %}
            {% for i in users.paginator.page_range %}
            {% if users.number == i %}
            <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
            {% else %}
            <li><a href="{% url 'systemsynchro' %}?page={{ i }}">{{ i }}</a></li>
            {% endif %}
            {% endfor %}
            {% if users.has_next %}
            <li><a href="{% url 'systemsynchro' %}?page={{ users.next_page_number }}">&raquo;</a></li>
            {% else %}
            <li class="disabled"><span>&raquo;</span></li>
            {% endif %}
        </ul>
        {% endif %}
        <div id="addcl_Synchro_data_sourceModal" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content" style="width: 700px; position: relative; right: 10%; bottom: 50%;">
                    <form action="{% url 'synadd' %}" method="post">
                        {% csrf_token %}
                        <div class="modal-header">
                            <h4 class="modal-title">Add New Data</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        </div>
                        <div class="modal-body" style="width: 330px; padding-left: 30px; display: inline-block;">
                            <!-- <div class="form-group"><label>ID</label>
                                    <input name="id" type="text" class="form-control">
                                </div> -->
                            <div class="form-group">
                                <span class="required-field"></span> <label> Name </label>
                                <input name="ch_name" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Status</label>
                                <select name="ch_status" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="Implementation">Implementation</option>
                                    <option value="Obsolete">Obsolete</option>
                                    <option value="Production">Production</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Description</label>
                                <input name="txt_description" type="text" class="form-control">
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Target class</label>
                                <select name="ch_target_class" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="">-- select one --</option>
                                    <option value="lnkTriggerAction" selected="">Action/Trigger</option>
                                    <option value="ApplicationSolution">Application Solution</option>
                                    <option value="Attachment">Attachment</option>
                                    <option value="AuditCategory">Audit Category</option>
                                    <option value="AuditRule">Audit Rule</option>
                                    <option value="Brand">Brand</option>
                                    <option value="BusinessProcess">Business Process</option>
                                    <option value="Change">Change</option>
                                    <option value="ConnectableCI">Connectable CI</option>
                                    <option value="Contact">Contact</option>
                                    <option value="ContactType">Contact Type</option>
                                    <option value="Contract">Contract</option>
                                    <option value="ContractType">Contract Type</option>
                                    <option value="CustomerContract">Customer Contract</option>
                                    <option value="DBServer">DB Server</option>
                                    <option value="DatabaseSchema">Database Schema</option>
                                    <option value="DatacenterDevice">Datacenter Device</option>
                                    <option value="DeliveryModel">Delivery Model</option>
                                    <option value="Document">Document</option>
                                    <option value="DocumentFile">Document File</option>
                                    <option value="DocumentNote">Document Note</option>
                                    <option value="DocumentType">Document Type</option>
                                    <option value="DocumentWeb">Document Web</option>
                                    <option value="ActionEmail">Email notification</option>
                                    <option value="UserExternal">External user</option>
                                    <option value="FunctionalCI">Functional CI</option>
                                    <option value="ActionGoogleChatNotification">Google Chat notification</option>
                                    <option value="Group">Group</option>
                                    <option value="IOSVersion">IOS Version</option>
                                    <option value="IPInterface">IP Interface</option>
                                    <option value="UserLDAP">LDAP user</option>
                                    <option value="Licence">License</option>
                                    <option value="lnkApplicationSolutionToBusinessProcess">Link ApplicationSolution /
                                        BusinessProcess</option>
                                    <option value="lnkApplicationSolutionToFunctionalCI">Link ApplicationSolution /
                                        FunctionalCI</option>
                                    <option value="lnkConnectableCIToNetworkDevice">Link ConnectableCI / NetworkDevice
                                    </option>
                                    <option value="lnkContactToContract">Link Contact / Contract</option>
                                    <option value="lnkContactToFunctionalCI">Link Contact / FunctionalCI</option>
                                    <option value="lnkContactToService">Link Contact / Service</option>
                                    <option value="lnkContactToTicket">Link Contact / Ticket</option>
                                    <option value="lnkContractToDocument">Link Contract / Document</option>
                                    <option value="lnkCustomerContractToService">Link Customer Contract / Service
                                    </option>
                                    <option value="lnkDeliveryModelToContact">Link Delivery Model / Contact</option>
                                    <option value="lnkDocumentToFunctionalCI">Link Document / FunctionalCI</option>
                                    <option value="lnkDocumentToLicence">Link Document / License</option>
                                    <option value="lnkDocumentToPatch">Link Document / Patch</option>
                                    <option value="lnkDocumentToService">Link Document / Service</option>
                                    <option value="lnkDocumentToSoftware">Link Document / Software</option>
                                    <option value="lnkFunctionalCIToOSPatch">Link FunctionalCI / OS patch</option>
                                    <option value="lnkFunctionalCIToProviderContract">Link FunctionalCI /
                                        ProviderContract</option>
                                    <option value="lnkFunctionalCIToService">Link FunctionalCI / Service</option>
                                    <option value="lnkFunctionalCIToTicket">Link FunctionalCI / Ticket</option>
                                    <option value="lnkGroupToCI">Link Group / CI</option>
                                    <option value="lnkPersonToTeam">Link Person / Team</option>
                                    <option value="lnkPhysicalInterfaceToVLAN">Link PhysicalInterface / VLAN</option>
                                    <option value="lnkProviderContractToService">Link Provider Contract / Service
                                    </option>
                                    <option value="lnkSLAToSLT">Link SLA / SLT</option>
                                    <option value="lnkSoftwareInstanceToSoftwarePatch">Link Software Instance / Software
                                        Patch</option>
                                    <option value="lnkSubnetToVLAN">Link Subnet / VLAN</option>
                                    <option value="Location">Location</option>
                                    <option value="ActionMicrosoftTeamsNotification">Microsoft Teams notification
                                    </option>
                                    <option value="Middleware">Middleware</option>
                                    <option value="MiddlewareInstance">Middleware Instance</option>
                                    <option value="Model">Model</option>
                                    <option value="NetworkDevice">Network Device</option>
                                    <option value="NetworkDeviceType">Network Device Type</option>
                                    <option value="NetworkInterface">Network Interface</option>
                                    <option value="OAuthClient">OAuth Client</option>
                                    <option value="OAuthClientGoogle">OAuth client for Google</option>
                                    <option value="OAuthClientAzure">OAuth client for Microsoft Azure</option>
                                    <option value="QueryOQL">OQL Query</option>
                                    <option value="OSFamily">OS Family</option>
                                    <option value="OSLicence">OS License</option>
                                    <option value="OSPatch">OS Patch</option>
                                    <option value="OSVersion">OS Version</option>
                                    <option value="Organization">Organization</option>
                                    <option value="OtherSoftware">Other Software</option>
                                    <option value="PCSoftware">PC Software</option>
                                    <option value="Patch">Patch</option>
                                    <option value="Person">Person</option>
                                    <option value="PhysicalDevice">Physical Device</option>
                                    <option value="PhysicalInterface">Physical Interface</option>
                                    <option value="ProviderContract">Provider Contract</option>
                                    <option value="Query">Query</option>
                                    <option value="RemoteApplicationConnection">Remote application connection</option>
                                    <option value="RemoteApplicationType">Remote application type</option>
                                    <option value="RemoteiTopConnection">Remote iTop connection</option>
                                    <option value="ActionRocketChatNotification">Rocket.Chat notification</option>
                                    <option value="SLA">SLA</option>
                                    <option value="SLT">SLT</option>
                                    <option value="Server">Server</option>
                                    <option value="Service">Service</option>
                                    <option value="ServiceFamily">Service Family</option>
                                    <option value="ServiceSubcategory">Service Subcategory</option>
                                    <option value="ActionSlackNotification">Slack notification</option>
                                    <option value="Software">Software</option>
                                    <option value="SoftwareInstance">Software Instance</option>
                                    <option value="SoftwareLicence">Software License</option>
                                    <option value="SoftwarePatch">Software Patch</option>
                                    <option value="Subnet">Subnet</option>
                                    <option value="TagSetFieldData">Tag Set Field Data</option>
                                    <option value="Team">Team</option>
                                    <option value="Ticket">Ticket</option>
                                    <option value="TriggerOnStateEnter">Trigger (on entering a state)</option>
                                    <option value="TriggerOnStateLeave">Trigger (on leaving a state)</option>
                                    <option value="TriggerOnObjectCreate">Trigger (on object creation)</option>
                                    <option value="TriggerOnObjectDelete">Trigger (on object deletion)</option>
                                    <option value="TriggerOnObjectMention">Trigger (on object mention)</option>
                                    <option value="TriggerOnObjectUpdate">Trigger (on object update)</option>
                                    <option value="TriggerOnThresholdReached">Trigger (on threshold)</option>
                                    <option value="TriggerOnPortalUpdate">Trigger (when updated from the portal)
                                    </option>
                                    <option value="Typology">Typology</option>
                                    <option value="UserRequest">User Request</option>
                                    <option value="VLAN">VLAN</option>
                                    <option value="WebApplication">Web Application</option>
                                    <option value="WebServer">Web server</option>
                                    <option value="ActionWebhook">Webhook call (generic)</option>
                                    <option value="WorkOrder">Work Order</option>
                                    <option value="UserLocal">iTop user</option>
                                    <option value="ActioniTopWebhook">iTop webhook call</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label> User</label>
                                <input name="ch_user" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Contact Notify</label>
                                <input name="ch_contact_notify" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Icon Hyperlink</label>
                                <input name="url_icon_hyperlink" type="url" class="form-control">
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Application Hyperlink</label>
                                <input name="url_Application_hyperlink" type="url" class="form-control">
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label> Data Table</label>
                                <input name="ch_data_table" type="text" class="form-control" required>
                            </div>
                        </div>
                        <div class="modal-body" style="width: 330px; display: inline-block;">
                            <div class="form-group">
                                <label>Reconciliation Policy</label>
                                <select name="ch_reconciliation_policy" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="Use The Attributes">Use The Attributes</option>
                                    <option value="Use The Primary Key Field">Use The Primary Key Field</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Action On Zero</label>
                                <select name="ch_action_on_zero" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="Create">Create</option>
                                    <option value="Error">Error</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label> Action On One</label>
                                <select name="ch_action_on_one" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="Update">Update</option>
                                    <option value="Error">Error</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Action On Many</label>
                                <select name="ch_action_on_many" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="Create">Create</option>
                                    <option value="Error">Error</option>
                                    <option value="Take the first one (random)">Take the first one (random)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Users Allowed</label>
                                <select name="ch_users_allowed" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="Administrators only">Administrators only</option>
                                    <option value="Everybody allowed to delete such objects">Everybody allowed to delete
                                        such objects</option>
                                    <option value="Nobody">Nobody</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Update Rules</label>
                                <input name="ch_update_rules" type="text" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Delete Policy</label>
                                <select name="ch_delete_policy" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="Delete">Delete</option>
                                    <option value="Ignore">Ignore</option>
                                    <option value="Update">Update</option>
                                    <option value="Update then Delete">Update then Delete</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Full Load Interval</label>
                                <input class="form-control" type="date" id="dt_full_load_interval"
                                    name="dt_full_load_interval" required pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}">
                                <span class="validity"></span>
                            </div>
                            <div class="form-group">
                                <span class="required-field"></span> <label>Retention Duration</label>
                                <input class="form-control" type="date" id="dt_retention_duration"
                                    name="dt_retention_duration" required pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}">
                                <span class="validity"></span>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                            <input type="submit" class="btn btn-success" value="Add">
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- Edit Modal HTML -->
        {% for i in syn %}
        <div id="editcl_Synchro_data_sourceModal-{{forloop.counter}}" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content" style="width: 700px; position: relative; right: 50%; bottom: 50%;">
                    <form action="/synupdate/{{i.id}}" method="post">
                        {% csrf_token %}
                        <div class="modal-header">
                            <h4 class="modal-title">Edit Synchro</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        </div>
                        <div class="modal-body" style="width: 330px; padding-left: 30px; display: inline-block;">
                            <div class="form-group">
                                <label>ID</label>
                                <input name="id" value="{{i.id}}" type="text" class="form-control">
                            </div>
                            <div class="form-group">
                                <label> Name</label>
                                <input name="ch_name" value="{{i.ch_name}}" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Status</label>
                                <select name="ch_status" value="{{i.ch_status}}" type="text" class="form-control"
                                    aria-label="Default select example" aria-invalid="false">
                                    <option value="Implementation">Implementation</option>
                                    <option value="Obsolete">Obsolete</option>
                                    <option value="Production">Production</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Description</label>
                                <input name="txt_description" value="{{i.txt_description}}" type="text"
                                    class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Target class</label>
                                <select name="ch_target_class" value="{{i.ch_target_class}}" type="text"
                                    class="form-control" aria-label="Default select example" aria-invalid="false">
                                    <option value="">-- select one --</option>
                                    <option value="lnkTriggerAction" selected="">Action/Trigger</option>
                                    <option value="ApplicationSolution">Application Solution</option>
                                    <option value="Attachment">Attachment</option>
                                    <option value="AuditCategory">Audit Category</option>
                                    <option value="AuditRule">Audit Rule</option>
                                    <option value="Brand">Brand</option>
                                    <option value="BusinessProcess">Business Process</option>
                                    <option value="Change">Change</option>
                                    <option value="ConnectableCI">Connectable CI</option>
                                    <option value="Contact">Contact</option>
                                    <option value="ContactType">Contact Type</option>
                                    <option value="Contract">Contract</option>
                                    <option value="ContractType">Contract Type</option>
                                    <option value="CustomerContract">Customer Contract</option>
                                    <option value="DBServer">DB Server</option>
                                    <option value="DatabaseSchema">Database Schema</option>
                                    <option value="DatacenterDevice">Datacenter Device</option>
                                    <option value="DeliveryModel">Delivery Model</option>
                                    <option value="Document">Document</option>
                                    <option value="DocumentFile">Document File</option>
                                    <option value="DocumentNote">Document Note</option>
                                    <option value="DocumentType">Document Type</option>
                                    <option value="DocumentWeb">Document Web</option>
                                    <option value="ActionEmail">Email notification</option>
                                    <option value="UserExternal">External user</option>
                                    <option value="FunctionalCI">Functional CI</option>
                                    <option value="ActionGoogleChatNotification">Google Chat notification</option>
                                    <option value="Group">Group</option>
                                    <option value="IOSVersion">IOS Version</option>
                                    <option value="IPInterface">IP Interface</option>
                                    <option value="UserLDAP">LDAP user</option>
                                    <option value="Licence">License</option>
                                    <option value="lnkApplicationSolutionToBusinessProcess">Link ApplicationSolution /
                                        BusinessProcess</option>
                                    <option value="lnkApplicationSolutionToFunctionalCI">Link ApplicationSolution /
                                        FunctionalCI</option>
                                    <option value="lnkConnectableCIToNetworkDevice">Link ConnectableCI / NetworkDevice
                                    </option>
                                    <option value="lnkContactToContract">Link Contact / Contract</option>
                                    <option value="lnkContactToFunctionalCI">Link Contact / FunctionalCI</option>
                                    <option value="lnkContactToService">Link Contact / Service</option>
                                    <option value="lnkContactToTicket">Link Contact / Ticket</option>
                                    <option value="lnkContractToDocument">Link Contract / Document</option>
                                    <option value="lnkCustomerContractToService">Link Customer Contract / Service
                                    </option>
                                    <option value="lnkDeliveryModelToContact">Link Delivery Model / Contact</option>
                                    <option value="lnkDocumentToFunctionalCI">Link Document / FunctionalCI</option>
                                    <option value="lnkDocumentToLicence">Link Document / License</option>
                                    <option value="lnkDocumentToPatch">Link Document / Patch</option>
                                    <option value="lnkDocumentToService">Link Document / Service</option>
                                    <option value="lnkDocumentToSoftware">Link Document / Software</option>
                                    <option value="lnkFunctionalCIToOSPatch">Link FunctionalCI / OS patch</option>
                                    <option value="lnkFunctionalCIToProviderContract">Link FunctionalCI /
                                        ProviderContract</option>
                                    <option value="lnkFunctionalCIToService">Link FunctionalCI / Service</option>
                                    <option value="lnkFunctionalCIToTicket">Link FunctionalCI / Ticket</option>
                                    <option value="lnkGroupToCI">Link Group / CI</option>
                                    <option value="lnkPersonToTeam">Link Person / Team</option>
                                    <option value="lnkPhysicalInterfaceToVLAN">Link PhysicalInterface / VLAN</option>
                                    <option value="lnkProviderContractToService">Link Provider Contract / Service
                                    </option>
                                    <option value="lnkSLAToSLT">Link SLA / SLT</option>
                                    <option value="lnkSoftwareInstanceToSoftwarePatch">Link Software Instance / Software
                                        Patch</option>
                                    <option value="lnkSubnetToVLAN">Link Subnet / VLAN</option>
                                    <option value="Location">Location</option>
                                    <option value="ActionMicrosoftTeamsNotification">Microsoft Teams notification
                                    </option>
                                    <option value="Middleware">Middleware</option>
                                    <option value="MiddlewareInstance">Middleware Instance</option>
                                    <option value="Model">Model</option>
                                    <option value="NetworkDevice">Network Device</option>
                                    <option value="NetworkDeviceType">Network Device Type</option>
                                    <option value="NetworkInterface">Network Interface</option>
                                    <option value="OAuthClient">OAuth Client</option>
                                    <option value="OAuthClientGoogle">OAuth client for Google</option>
                                    <option value="OAuthClientAzure">OAuth client for Microsoft Azure</option>
                                    <option value="QueryOQL">OQL Query</option>
                                    <option value="OSFamily">OS Family</option>
                                    <option value="OSLicence">OS License</option>
                                    <option value="OSPatch">OS Patch</option>
                                    <option value="OSVersion">OS Version</option>
                                    <option value="Organization">Organization</option>
                                    <option value="OtherSoftware">Other Software</option>
                                    <option value="PCSoftware">PC Software</option>
                                    <option value="Patch">Patch</option>
                                    <option value="Person">Person</option>
                                    <option value="PhysicalDevice">Physical Device</option>
                                    <option value="PhysicalInterface">Physical Interface</option>
                                    <option value="ProviderContract">Provider Contract</option>
                                    <option value="Query">Query</option>
                                    <option value="RemoteApplicationConnection">Remote application connection</option>
                                    <option value="RemoteApplicationType">Remote application type</option>
                                    <option value="RemoteiTopConnection">Remote iTop connection</option>
                                    <option value="ActionRocketChatNotification">Rocket.Chat notification</option>
                                    <option value="SLA">SLA</option>
                                    <option value="SLT">SLT</option>
                                    <option value="Server">Server</option>
                                    <option value="Service">Service</option>
                                    <option value="ServiceFamily">Service Family</option>
                                    <option value="ServiceSubcategory">Service Subcategory</option>
                                    <option value="ActionSlackNotification">Slack notification</option>
                                    <option value="Software">Software</option>
                                    <option value="SoftwareInstance">Software Instance</option>
                                    <option value="SoftwareLicence">Software License</option>
                                    <option value="SoftwarePatch">Software Patch</option>
                                    <option value="Subnet">Subnet</option>
                                    <option value="TagSetFieldData">Tag Set Field Data</option>
                                    <option value="Team">Team</option>
                                    <option value="Ticket">Ticket</option>
                                    <option value="TriggerOnStateEnter">Trigger (on entering a state)</option>
                                    <option value="TriggerOnStateLeave">Trigger (on leaving a state)</option>
                                    <option value="TriggerOnObjectCreate">Trigger (on object creation)</option>
                                    <option value="TriggerOnObjectDelete">Trigger (on object deletion)</option>
                                    <option value="TriggerOnObjectMention">Trigger (on object mention)</option>
                                    <option value="TriggerOnObjectUpdate">Trigger (on object update)</option>
                                    <option value="TriggerOnThresholdReached">Trigger (on threshold)</option>
                                    <option value="TriggerOnPortalUpdate">Trigger (when updated from the portal)
                                    </option>
                                    <option value="Typology">Typology</option>
                                    <option value="UserRequest">User Request</option>
                                    <option value="VLAN">VLAN</option>
                                    <option value="WebApplication">Web Application</option>
                                    <option value="WebServer">Web server</option>
                                    <option value="ActionWebhook">Webhook call (generic)</option>
                                    <option value="WorkOrder">Work Order</option>
                                    <option value="UserLocal">iTop user</option>
                                    <option value="ActioniTopWebhook">iTop webhook call</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label> User</label>
                                <input name="ch_user" value="{{i.ch_user}}" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Contact Notify</label>
                                <input name="ch_contact_notify" value="{{i.ch_contact_notify}}" type="text"
                                    class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Icon Hyperlink</label>
                                <input name="url_icon_hyperlink" value="{{i.url_icon_hyperlink}}" type="url"
                                    class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Application Hyperlink</label>
                                <input name="url_Application_hyperlink" value="{{i.url_Application_hyperlink}}"
                                    type="url" class="form-control">
                            </div>
                            <div class="form-group">
                                <label> Data Table</label>
                                <input name="ch_data_table" value="{{i.ch_data_table}}" type="text" class="form-control"
                                    required>
                            </div>
                        </div>
                        <div class="modal-body" style="width: 330px; display: inline-block;">
                            <div class="form-group">
                                <label>Reconciliation Policy</label>
                                <select name="ch_reconciliation_policy" value="{{i.ch_reconciliation_policy}}"
                                    type="text" class="form-control" aria-label="Default select example"
                                    aria-invalid="false">
                                    <option value="Implementation">Implementation</option>
                                    <option value="Obsolete">Obsolete</option>
                                    <option value="Production">Production</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Action On Zero</label>
                                <select name="ch_action_on_zero" value="{{i.ch_action_on_zero}}" type="text"
                                    class="form-control" aria-label="Default select example" aria-invalid="false">
                                    <option value="Create">Create</option>
                                    <option value="Error">Error</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label> Action On One</label>
                                <select name="ch_action_on_one" value="{{i.ch_action_on_one}}" type="text"
                                    class="form-control" aria-label="Default select example" aria-invalid="false">
                                    <option value="Update">Update</option>
                                    <option value="Error">Error</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Action On Many</label>
                                <select name="ch_action_on_many" value="{{i.ch_action_on_many}}" type="text"
                                    class="form-control" aria-label="Default select example" aria-invalid="false">
                                    <option value="Create">Create</option>
                                    <option value="Error">Error</option>
                                    <option value="Take the first one (random)">Take the first one (random)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Users Allowed</label>
                                <select name="ch_users_allowed" value="{{i.ch_users_allowed}}" type="text"
                                    class="form-control" aria-label="Default select example" aria-invalid="false">
                                    <option value="Administrators only">Administrators only</option>
                                    <option value="Everybody allowed to delete such objects">Everybody allowed to delete
                                        such objects</option>
                                    <option value="Nobody">Nobody</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Update Rules</label>
                                <input name="ch_update_rules" value="{{i.ch_update_rules}}" type="text"
                                    class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Delete Policy</label>
                                <select name="ch_delete_policy" value="{{i.ch_action_on_many}}" type="text"
                                    class="form-control" aria-label="Default select example" aria-invalid="false">
                                    <option value="Delete">Delete</option>
                                    <option value="Ignore">Ignore</option>
                                    <option value="Update">Update</option>
                                    <option value="Update then Delete">Update then Delete</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Full Load Interval</label>
                                <input class="form-control" type="date" id="dt_full_load_interval"
                                    name="dt_full_load_interval" required pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}">
                                <span class="validity"></span>
                            </div>
                            <div class="form-group">
                                <label>Retention Duration</label>
                                <input class="form-control" type="date" id="dt_retention_duration"
                                    name="dt_retention_duration" required pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}">
                                <span class="validity"></span>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                            <input type="submit" class="btn btn-info" value="Update">
                        </div>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
        <script>
            $(document).ready(function () {
                $('#delete_btn').click(function () {
                    if (confirm('Are You Sure You Want to Delete User?')) {
                        var id = [];
                        var csrf = $('input[name=csrfmiddlewaretoken]').val();
                        $(':checkbox:checked').each(function (i) {
                            id[i] = $(this).val()
                        })
                        if (id.length === 0) {
                            alert("please select user Which u want to delete?")
                        } else {
                            console.log(id)
                            $.ajax({
                                url: "{% url 'syndelete' %}",
                                method: "POST",
                                data: {
                                    id,
                                    csrfmiddlewaretoken: csrf
                                },
                                success: function (response) {
                                    alert("success")
                                    location.reload();
                                    for (var i = 0; i < id.length; i++) {
                                        var error = $(response).find('#error_text')
                                        var error_class = $(error).attr('class')
                                        $('#error').addClass(error_class)
                                        $('#error').text(error.text())
                                        $('tr#' + id[i] + '').fadeOut('slow');
                                    }
                                },
                            })
                        }
                    }
                })
            })
        </script>
        <script>
            $('#select-all').click(function (event) {
                if (this.checked) {
                    // Iterate each checkbox
                    $(':checkbox').each(function () {
                        this.checked = true;
                    });
                } else {
                    $(':checkbox').each(function () {
                        this.checked = false;
                    });
                }
            });
        </script>
        {% endblock content %}